<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SSH Tunneling for Privacy</title>
    <link rel="icon" type="image/jpeg" href="../../images/images.jpg">
    <link rel="stylesheet" href="../lab.css">
</head>

<body>
    <!-- Reference Panel -->
    <div id="reference-panel" class="reference-panel">
        <div class="ref-header">
            <h2>Tunneling Terms</h2>
            <button class="close-ref" onclick="toggleReference()">Ã—</button>
        </div>
        <div class="ref-content">
            <div class="ref-item">
                <span class="ref-term">SSH Tunneling</span>
                <p class="ref-def">A method of transporting arbitrary networking data over an encrypted SSH connection.
                </p>
            </div>
            <div class="ref-item">
                <span class="ref-term">Port Forwarding</span>
                <p class="ref-def">A technique of redirecting a communication request from one address and port number
                    combination to another.</p>
            </div>
            <div class="ref-item">
                <span class="ref-term">Local Forwarding (-L)</span>
                <p class="ref-def">Forwards a port from the client machine to the server machine.</p>
            </div>
            <div class="ref-item">
                <span class="ref-term">Remote Forwarding (-R)</span>
                <p class="ref-def">Forwards a port from the server machine to the client machine.</p>
            </div>
        </div>
    </div>

    <a href="../../index.html" class="dashboard-link">&larr; Back to Dashboard</a>

    <div class="container">
        <header>
            <div>
                <h1>SSH Tunneling for Privacy</h1>
                <p style="margin: 5px 0 0; color: var(--secondary);">CYBER.ORG Range Worksheet</p>
            </div>
            <img src="../../images/cyber.org_logo2.jpg" alt="Logo" style="height: 40px; opacity: 0.8;">
        </header>

        <div class="meta-info">
            <div class="form-group">
                <label for="studentName">Student Name:</label>
                <input type="text" id="studentName" placeholder="Enter your name">
            </div>
            <div class="form-group">
                <label for="date">Date:</label>
                <input type="text" id="date" placeholder="Enter date">
            </div>
            <div class="form-group">
                <label for="class">Class:</label>
                <input type="text" id="class" placeholder="Enter class name">
            </div>
            <div class="form-group">
                <label for="partner">Partner Name:</label>
                <input type="text" id="partner" placeholder="Enter partner name">
            </div>
        </div>

        <!-- Objectives -->
        <div class="section">
            <h2>Objective</h2>
            <div class="instruction-text">
                Demonstrate how VPNs use tunneling to provide privacy for online browsing and data transfers.
            </div>
            <h3>Instructions:</h3>
            <ul class="checklist">
                <li><label><input type="checkbox"> Go to CYBER.ORG Range (https://apps.cyber.org)</label></li>
                <li><label><input type="checkbox"> Launch Kali and Windows Server 22. Open Kali.</label></li>
            </ul>
        </div>

        <!-- Part 1 -->
        <div class="section">
            <h2>Part 1 - Configure SSH & Web Server (Kali)</h2>
            <div class="instruction-text">
                1. <strong>Configure SSH settings:</strong> Open a Terminal in Kali.
                <pre style="background:#f4f4f4; padding:10px; border-radius:4px;">sudo nano /etc/ssh/sshd_config</pre>
                Scroll down to change <code>PasswordAuthentication</code> to <code>Yes</code>.<br>
                Press <strong>CTRL-X</strong> then <strong>Y</strong> then <strong>[Enter]</strong> to save.<br><br>
                2. Set the password for user 'kali':
                <pre style="background:#f4f4f4; padding:10px; border-radius:4px;">sudo passwd kali</pre>
                Enter <code>pass123</code> and confirm <code>pass123</code>.<br><br>
                3. Restart SSH service:
                <pre style="background:#f4f4f4; padding:10px; border-radius:4px;">sudo service sshd restart</pre>
                <br>
                4. <strong>Set up a website server:</strong> In the same terminal type:
                <code>DVWA_start</code>
            </div>
        </div>

        <!-- Part 2 -->
        <div class="section">
            <h2>Part 2 - HTTP Traffic Analysis (No Tunnel)</h2>
            <div class="instruction-text">
                1. Switch to <strong>Windows Server 22</strong>. Open Wireshark and start capturing (blue fin).<br>
                2. Open Chrome and go to: <code>&lt;Kali IP address&gt;/dvwa</code><br>
                3. Login with username: <strong>admin</strong> and password: <strong>password</strong>.<br>
                4. Stop Wireshark (red square). Filter for: <code>ip.dst_host==&lt;Kali IP address&gt;</code><br>
                5. Find an HTTP POST packet, Right-click > Follow | HTTP Stream.
            </div>

            <div class="question-block">
                <label>6. Paste a screenshot of the HTTP Stream showing the readable username and password:</label>
                <div class="image-zone" tabindex="0" id="img-zone-1">
                    <p>Click here and press <strong>Ctrl + V</strong> (or Cmd + V) to paste your screenshot.</p>
                </div>
                <p style="font-size: 0.8em; color: #666; margin-top: 5px;">Observation: This confirms that without
                    encryption, people can see what you enter on that website. No privacy!!!!</p>
            </div>
        </div>

        <!-- Part 3 -->
        <div class="section">
            <h2>Part 3 - Set up SSH Tunnel (Windows Server 22)</h2>
            <div class="instruction-text">
                1. Search for â€˜Puttyâ€™ and select the PuTTy App.<br>
                2. <strong>Host Name</strong> = <code>&lt;Kali IP Address&gt;</code><br>
                3. In the left column, select <strong>SSH | Tunnels</strong>.<br>
                4. <strong>Source port</strong> = <code>5678</code><br>
                5. <strong>Destination</strong> = <code>&lt;Kali IP Address&gt;:80</code><br>
                6. Leave defaults, click <strong>Add</strong>. Click <strong>Open</strong>. Accept Security Alert.<br>
                7. Login with kali / pass123. The tunnel is now active. Keep the terminal open.
            </div>

            <div class="question-block">
                <label>8. Paste a screenshot of the Putty Tunnel configuration or the active terminal:</label>
                <div class="image-zone" tabindex="0" id="img-zone-2">
                    <p>Click here and press <strong>Ctrl + V</strong> (or Cmd + V) to paste your screenshot.</p>
                </div>
            </div>
        </div>

        <!-- Part 4 -->
        <div class="section">
            <h2>Part 4 - Verify Tunnel Privacy</h2>
            <div class="instruction-text">
                1. Open Wireshark, start capture.<br>
                2. Open Chrome and go to: <code>localhost:5678/dvwa</code><br>
                3. Login (admin/password).<br>
                4. Stop capture. Filter: <code>ip.dst_host==&lt;Kali IP Address&gt;</code><br>
                5. Right-click packet > Follow | TCP Stream.
            </div>

            <div class="question-block">
                <label>6. Paste a screenshot of the TCP Stream showing encrypted (jumbled) text:</label>
                <div class="image-zone" tabindex="0" id="img-zone-3">
                    <p>Click here and press <strong>Ctrl + V</strong> (or Cmd + V) to paste your screenshot.</p>
                </div>
                <p style="font-size: 0.8em; color: #666; margin-top: 5px;">Observation: You cannot see the website
                    visited or login info. Total privacy!!</p>
            </div>
        </div>

        <!-- Closing -->
        <div class="section" style="border-bottom: none;">
            <h2>Closing Note</h2>
            <div class="instruction-text">
                This SSH tunnel was set up just to browse the DVWA website hosted on the Kali VM, it would not provide
                access to other websites. A VPN expands this technique to tunnel all your web browsing or other digital
                activity like streaming or data transfers.
            </div>
        </div>

    </div>

    <div class="controls">
        <button class="btn" style="background-color: var(--secondary); margin-right: 10px;"
            onclick="toggleReference()">ðŸ“– Reference</button>
        <button class="btn" onclick="downloadPDF()">Export PDF</button>
    </div>

    <script src="../lab.js"></script>
</body>

</html>